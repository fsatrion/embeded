<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Scrollable Code</title>

<style>
/* Reset */
* {
  box-sizing: border-box;
}

/* Page */
html, body {
  height: 100%;
  margin: 0;
  background: #0b1020;
  color: #e5e7eb;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

/* Container adapts to iframe size */
.wrapper {
  height: 100%;
  padding: 12px;
  display: flex;
}

/* Scrollable code block */
pre {
  flex: 1;
  margin: 0;
  padding: 14px;
  background: #0f172a;
  border-radius: 8px;
  overflow: auto;
  font-size: clamp(12px, 1.2vw, 14px);
  line-height: 1.5;
  white-space: pre;
}

/* Mobile tweaks */
@media (max-width: 600px) {
  pre {
    padding: 10px;
    border-radius: 6px;
  }
}
</style>
</head>

<body>
  <div class="wrapper">
    <pre>
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: backend-virtualservice
  namespace: app-1
  labels:
    tier: backend
spec:
  hosts:
  - "domain-be.id"
  gateways:
  - backend-gateway
  http:
  # Route for /api/ path - must come first (more specific)
  - match:
    - uri:
        prefix: /api/
    route:
    - destination:
        host: backend-service.app-1.svc.cluster.local
        port:
          number: 8080
    corsPolicy:
      allowOrigins:
      - exact: "https://doamin.id"
      allowMethods:
      - GET
      - POST
      - OPTIONS
      allowHeaders:
      - Authorization
      - Content-Type
      exposeHeaders:
      - Authorization
      allowCredentials: true
    headers:
      request:
        set:
          X-Forwarded-For: "%DOWNSTREAM_REMOTE_ADDRESS%"
    timeout: 0s  # Equivalent to proxy-body-size: "0" (no timeout)
  
  # Route for / path - must come after more specific paths
  - match:
    - uri:
        prefix: /
    route:
    - destination:
        host: aaa-service.app-1.svc.cluster.local
        port:
          number: 3000
    corsPolicy:
      allowOrigins:
      - exact: "https://doamin.id"
      allowMethods:
      - GET
      - POST
      - OPTIONS
      allowHeaders:
      - Authorization
      - Content-Type
      exposeHeaders:
      - Authorization
      allowCredentials: true
    headers:
      request:
        set:
          X-Forwarded-For: "%DOWNSTREAM_REMOTE_ADDRESS%"
    timeout: 0s
    </pre>
  </div>
</body>
</html>
